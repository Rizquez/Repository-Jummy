import{_ as h}from"./restaurante-D9iIAsPc.js";import{_ as O,j as f,e as u,k as w,l as x,c as r,b as _,a,n as M,t as d,m as T,F as C,p as z,o as l,q as P,i as R}from"./index-jtXfzA2B.js";import{A as k,f as I}from"./utils-QIWl4SV_.js";import{H as N}from"./HeaderClient-B8Ytj1mM.js";import{F as V}from"./Footer-DGqKp_qG.js";const L="/assets/espanola-CcoLI5Q9.jpg",B=Object.freeze(Object.defineProperty({__proto__:null,default:L},Symbol.toStringTag,{value:"Module"})),E="/assets/italiana-YmPihHKZ.jpg",F=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"})),$="/assets/japonesa-DBcEw1l2.jpg",D=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"})),H="/assets/mexicana-TOaxGue_.jpg",J=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),q="/assets/tailandesa-DR3gg1Rn.jpg",A=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),U="/assets/venezolana-1Op0Yn8v.jpg",Y=Object.freeze(Object.defineProperty({__proto__:null,default:U},Symbol.toStringTag,{value:"Module"})),G={class:"contenedor-scroll"},K={class:"lista-restaurantes"},Q={class:"container-info"},W={class:"txt-1vw"},Z={class:"txt-1vw"},X=["onClick"],ee={__name:"ClientListRestaurantView",setup(te){const m=P(),b=R(),i=f(()=>m.params.type),p=u([]),o=u(""),s=u(!1),y=Object.assign({"/src/assets/images/gastronomy/espanola.jpg":B,"/src/assets/images/gastronomy/italiana.jpg":F,"/src/assets/images/gastronomy/japonesa.jpg":D,"/src/assets/images/gastronomy/mexicana.jpg":J,"/src/assets/images/gastronomy/tailandesa.jpg":A,"/src/assets/images/gastronomy/venezolana.jpg":Y}),g=f(()=>{var e;return(e=y[`/src/assets/images/gastronomy/${i.value}.jpg`])==null?void 0:e.default}),v=()=>{const e=sessionStorage.getItem("restaurantes");e&&(p.value=JSON.parse(e))};w(()=>{v()}),x([i,()=>m.query.reload],()=>{v()});const j=()=>{s.value=!1,window.location.reload()};async function S(e){try{const t=await I("https://api-jummy.onrender.com/find-dishes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nombre_comercial:e})},1e4);if(t.status===200){const c=(await t.json()).data;sessionStorage.setItem("platos",JSON.stringify(c)),sessionStorage.setItem("nombre_restaurante",e),b.push({name:"menu-restaurant",params:{nombre_comercial:e}})}else t.status===500?(o.value="No se ha obtenido la carta sobre el restaurante indicado",s.value=!0):(o.value=`Error inesperado en el servidor
${t.statusText} 🛠️`,s.value=!0)}catch(t){o.value=t.message.includes("tiempo de espera")?"La solicitud ha excedido el tiempo de espera. Por favor, intentelo de nuevo mas tarde":"Error inesperado durante la solicitud",s.value=!0}}return(e,t)=>(l(),r("main",null,[_(N,{"show-return":!0}),a("div",G,[g.value?(l(),r("button",{key:0,class:"boton-gastronomia txt-1-5vw",style:M({backgroundImage:`url(${g.value})`})},d(i.value.toUpperCase()),5)):T("",!0)]),a("div",K,[(l(!0),r(C,null,z(p.value,(n,c)=>(l(),r("div",{key:c,id:"restaurante",class:"info-restaurante"},[a("div",Q,[a("div",null,[a("p",W,d(n.nombre_comercial),1),a("p",Z,d(n.descripcion),1)]),t[0]||(t[0]=a("img",{src:h,alt:"Imagen plato"},null,-1))]),a("button",{onClick:ae=>S(n.nombre_comercial),class:"btn-carta txt-1vw"},"Ver carta",8,X)]))),128))]),_(V),_(k,{message:o.value,visible:s.value,onClose:j},null,8,["message","visible"])]))}},ie=O(ee,[["__scopeId","data-v-05036122"]]);export{ie as default};
