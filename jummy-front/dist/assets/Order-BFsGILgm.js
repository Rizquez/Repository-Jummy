import{A as u,f as h}from"./utils-CQI9Zwo-.js";import{_ as p,e as c,r as v,o as r,c as l,a as n,t,m as i,b as C,F as y}from"./index-D73NRxAB.js";const w={props:{order:{type:Object,required:!0},showComercial:{type:Boolean,default:!1},showComensal:{type:Boolean,default:!1}},components:{AlertModal:u},setup(d){const o=c(""),e=c(!1);return{modalMessage:o,isModalVisible:e,handleModalClose:()=>{e.value=!1},finishOrder:async()=>{try{const s=await h("https://api-jummy.onrender.com/complete-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_pedido:d.order.id_pedido})},1e4);s.status===200?(o.value="El pedido se completÃ³ correctamente",d.order.estado="Completado"):s.status===400?o.value="El pedido ya se encuentra en estado de completado, por favor reinicie la pagina":o.value=`Error al completar el pedido: ${s.statusText}`}catch(s){o.value=`Error inesperado: ${s.message}`}finally{e.value=!0}}}}},b={key:0,class:"txt-1vw"},x={key:1,class:"txt-1vw"},M={class:"txt-1vw"},g={class:"txt-1vw"},A={class:"txt-1vw"};function N(d,o,e,a,m,s){const _=v("AlertModal");return r(),l(y,null,[n("div",null,[e.showComercial?(r(),l("p",b,t(e.order.nombre_comercial||"N/A"),1)):i("",!0),e.showComensal?(r(),l("p",x,t(e.order.email_comensal||"N/A"),1)):i("",!0),n("p",M,t(e.order.nombres_platos.join(", ")||"N/A"),1),n("p",g,t(e.order.fecha||"N/A"),1),n("p",A,t(e.order.estado||"N/A"),1),e.showComensal&&e.order.estado==="Pendiente"?(r(),l("button",{key:2,class:"txt-0-8vw",onClick:o[0]||(o[0]=(...f)=>a.finishOrder&&a.finishOrder(...f))},"Completar pedido")):i("",!0)]),C(_,{message:a.modalMessage,visible:a.isModalVisible,onClose:a.handleModalClose},null,8,["message","visible","onClose"])],64)}const B=p(w,[["render",N],["__scopeId","data-v-bd079a85"]]);export{B as O};
