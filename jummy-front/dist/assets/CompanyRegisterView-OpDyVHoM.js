import{_ as b,e as d,c as x,a as o,f as l,v as i,g as m,h as f,b as p,w as V,r as y,o as w,d as U}from"./index-BtnKLO9i.js";import{F as q}from"./Footer-DMD8Zh5-.js";import{A as C,v as T,f as P}from"./utils-DdLWlRYc.js";const N={class:"form-center"},I={class:"input-group"},_={class:"input-group"},M={class:"input-group"},S={class:"input-group"},D={class:"input-group"},E={class:"input-group"},F={class:"div-button"},R={__name:"CompanyRegisterView",setup(k){const s=d(""),r=d(!1),a=d({cif:"",nombre_fiscal:"",direccion_fiscal:"",localidad:"",codigoPostal:"",telefono:"",email:"",nombre_comercial:"",descripcion:"",password:"",gastronomia:""}),c=()=>{r.value=!1,window.location.reload()},v=u=>{T(u)},g=u=>{u.preventDefault(),a.value.telefono=a.value.pais+a.value.numeroTelefono;const e={cif:a.value.cif,nombre_fiscal:a.value.nombre_fiscal,direccion_fiscal:a.value.direccion_fiscal,localidad:a.value.localidad,cp:a.value.codigoPostal,telefono:a.value.telefono,email:a.value.email,nombre_comercial:a.value.nombre_comercial,descripcion:a.value.descripcion,logo:null,password:a.value.password,gastronomia:a.value.gastronomia};P("https://api-jummy.onrender.com/build-restaurant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},6e4).then(n=>{n.status===201?s.value="Restaurante creado correctamente üìë":n.status===409?s.value="El restaurante ya se encuentra registrado ‚õî":n.status===500?s.value=`Los datos no se han podido registrar
(${n.statusText}) üõ†Ô∏è`:s.value=`Error inesperado en el servidor
${n.statusText} üõ†Ô∏è`,r.value=!0}).catch(n=>{s.value=n.message.includes("tiempo de espera")?"La solicitud ha excedido el tiempo de espera. Por favor, intentelo de nuevo mas tarde":"Error inesperado durante la solicitud",r.value=!0})};return(u,e)=>{const n=y("router-link");return w(),x("main",null,[e[19]||(e[19]=o("header",null,[o("h1",{class:"txt-2vw"},"Formulario de registro para empresas")],-1)),o("div",N,[o("form",{onSubmit:g},[o("div",I,[l(o("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>a.value.nombre_fiscal=t),placeholder:"Nombre fiscal",required:""},null,512),[[i,a.value.nombre_fiscal]]),l(o("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>a.value.cif=t),placeholder:"CIF/NIF",required:""},null,512),[[i,a.value.cif]])]),l(o("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>a.value.direccion_fiscal=t),placeholder:"Direcci√≥n",required:""},null,512),[[i,a.value.direccion_fiscal]]),o("div",_,[l(o("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>a.value.localidad=t),placeholder:"Localidad",required:""},null,512),[[i,a.value.localidad]]),l(o("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>a.value.codigoPostal=t),onInput:v,placeholder:"C√≥digo Postal",required:""},null,544),[[i,a.value.codigoPostal]])]),o("div",M,[l(o("select",{name:"Pais","onUpdate:modelValue":e[5]||(e[5]=t=>a.value.pais=t),class:"codigopais",required:""},e[12]||(e[12]=[f('<option value="" disabled selected data-v-2ff88202>Pa√≠s</option><option value="+34" data-v-2ff88202>+34 (Espa√±a)</option><option value="+39 " data-v-2ff88202>+39 (Italia)</option><option value="+33" data-v-2ff88202>+33 (Francia)</option><option value="+351" data-v-2ff88202>+351 (Portugal)</option><option value="+49" data-v-2ff88202>+49 (Alemania)</option><option value="+44" data-v-2ff88202>+44 (Reino Unido)</option>',7)]),512),[[m,a.value.pais]]),l(o("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=t=>a.value.numeroTelefono=t),onInput:v,placeholder:"Tel√©fono",required:""},null,544),[[i,a.value.numeroTelefono]])]),o("div",S,[l(o("input",{type:"email","onUpdate:modelValue":e[7]||(e[7]=t=>a.value.email=t),placeholder:"Correo electr√≥nico",required:""},null,512),[[i,a.value.email]])]),o("div",D,[l(o("input",{type:"password","onUpdate:modelValue":e[8]||(e[8]=t=>a.value.password=t),placeholder:"Contrase√±a",required:""},null,512),[[i,a.value.password]]),e[13]||(e[13]=o("span",{class:"help-text txt-1vw"},"Debe contener entre 6 y 8 caracteres alfanum√©ricos",-1))]),o("div",E,[l(o("select",{name:"gastronomia","onUpdate:modelValue":e[9]||(e[9]=t=>a.value.gastronomia=t),class:"gastronomia",required:""},e[14]||(e[14]=[f('<option value="" disabled selected data-v-2ff88202>Gastronom√≠a</option><option value="japonesa" data-v-2ff88202>Japonesa</option><option value="italiana" data-v-2ff88202>Italiana</option><option value="espanola" data-v-2ff88202>Espa√±ola</option><option value="venezolana" data-v-2ff88202>Venezolana</option><option value="mexicana" data-v-2ff88202>Mexicana</option><option value="tailandesa" data-v-2ff88202>Tailandesa</option>',7)]),512),[[m,a.value.gastronomia]]),l(o("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>a.value.nombre_comercial=t),placeholder:"Restaurante (Nombre Comercial)",required:""},null,512),[[i,a.value.nombre_comercial]])]),l(o("textarea",{"onUpdate:modelValue":e[11]||(e[11]=t=>a.value.descripcion=t),placeholder:"Descripci√≥n del restaurante",maxlength:"250",required:""},null,512),[[i,a.value.descripcion]]),e[17]||(e[17]=o("label",{for:"file-upload",class:"custom-file-upload"},"Subir logo del restaurante",-1)),e[18]||(e[18]=o("input",{id:"file-upload",type:"file",accept:"image/*",class:"input-img"},null,-1)),o("div",F,[e[16]||(e[16]=o("button",{type:"submit",class:"form-button txt-1vw"},"Registrar empresa",-1)),p(n,{to:{name:"home"},class:"form-button txt-1vw"},{default:V(()=>e[15]||(e[15]=[U("Volver")])),_:1})])],32)]),p(q),p(C,{message:s.value,visible:r.value,onClose:c},null,8,["message","visible"])])}}},L=b(R,[["__scopeId","data-v-2ff88202"]]);export{L as default};
